{
  "$ref": "#/definitions/Config",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "definitions": {
    "AIVendor": {
      "anyOf": [
        {
          "$ref": "#/definitions/OpenAIVendor"
        },
        {
          "additionalProperties": false,
          "properties": {
            "apiEndpointEnvName": {
              "description": "Azure OpenAIのエンドポイントを格納するKeychainのアカウント名",
              "type": "string"
            },
            "apiKeyEnvName": {
              "description": "Azure OpenAIのApiKeyを格納するKeychainのアカウント名",
              "type": "string"
            },
            "apiModel": {
              "description": "Azure OpenAIのモデル名",
              "type": "string"
            },
            "apiVersion": {
              "description": "Azure OpenAIのAPIバージョン",
              "type": "string"
            },
            "type": {
              "const": "azure",
              "type": "string"
            }
          },
          "required": [
            "type",
            "apiKeyEnvName",
            "apiEndpointEnvName",
            "apiVersion",
            "apiModel"
          ],
          "type": "object"
        }
      ]
    },
    "Config": {
      "additionalProperties": false,
      "description": "data.jsonの設定ファイルを定義するインターフェース JSON Schemaを生成するためにも使用される\n\nINFO: ここではrequiredになっていても、設定ミスでnullishな値は入る可能性があるので、処理するときは例外処理が必要",
      "properties": {
        "all": {
          "additionalProperties": false,
          "properties": {
            "Clean old daily notes": {
              "type": "boolean"
            },
            "Create MIN ADR": {
              "type": "boolean"
            },
            "Create OBS ADR": {
              "type": "boolean"
            },
            "Create PRO ADR": {
              "type": "boolean"
            },
            "Create VIM ADR": {
              "type": "boolean"
            },
            "Create an Article": {
              "type": "boolean"
            },
            "Open active folder in terminal": {
              "type": "boolean"
            },
            "Open vault in terminal": {
              "type": "boolean"
            },
            "Toggle Live preview": {
              "description": "『Toggle Live Preview/Source mode』との違いは全エディタが対象になること",
              "type": "boolean"
            }
          },
          "type": "object"
        },
        "commandHistoryPath": {
          "description": "コマンド履歴の保存先パス デフォルトはプラグインフォルダ内の `command-histories.json` FIXME: 多分プラグインに分離するのでこのままにする",
          "type": "string"
        },
        "editor": {
          "additionalProperties": false,
          "properties": {
            "Add permalink property": {
              "additionalProperties": false,
              "properties": {
                "vendor": {
                  "anyOf": [
                    {
                      "additionalProperties": false,
                      "properties": {
                        "apiKeyEnvName": {
                          "description": "OpenAI APIキーを格納するKeychainのアカウント名",
                          "type": "string"
                        },
                        "type": {
                          "const": "openai",
                          "type": "string"
                        }
                      },
                      "required": [
                        "apiKeyEnvName",
                        "type"
                      ],
                      "type": "object"
                    },
                    {
                      "additionalProperties": false,
                      "properties": {
                        "apiEndpointEnvName": {
                          "description": "Azure OpenAIのエンドポイントを格納するKeychainのアカウント名",
                          "type": "string"
                        },
                        "apiKeyEnvName": {
                          "description": "Azure OpenAIのApiKeyを格納するKeychainのアカウント名",
                          "type": "string"
                        },
                        "apiModel": {
                          "description": "Azure OpenAIのモデル名",
                          "type": "string"
                        },
                        "apiVersion": {
                          "description": "Azure OpenAIのAPIバージョン",
                          "type": "string"
                        },
                        "type": {
                          "enum": [],
                          "type": "string"
                        }
                      },
                      "required": [
                        "apiEndpointEnvName",
                        "apiKeyEnvName",
                        "apiModel",
                        "apiVersion",
                        "type"
                      ],
                      "type": "object"
                    }
                  ],
                  "description": "利用するAIベンダー情報"
                }
              },
              "required": [
                "vendor"
              ],
              "type": "object"
            },
            "Add property suitably": {
              "type": "boolean"
            },
            "Copy Minerva URL": {
              "type": "boolean"
            },
            "Copy as Confluence": {
              "additionalProperties": false,
              "properties": {
                "domain": {
                  "description": "Confluenceのドメイン 例: `example.atlassian.net`",
                  "type": "string"
                }
              },
              "required": [
                "domain"
              ],
              "type": "object"
            },
            "Copy as Slack": {
              "additionalProperties": false,
              "properties": {
                "replaceRegExpMapping": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "description": "Slackのメッセージを置換するための正規表現マッピング",
                  "type": "object"
                }
              },
              "type": "object"
            },
            "Copy url property": {
              "type": "boolean"
            },
            "Create Activity note": {
              "type": "boolean"
            },
            "Create Brain note": {
              "type": "boolean"
            },
            "Create Hub note": {
              "type": "boolean"
            },
            "Create MTG note": {
              "type": "boolean"
            },
            "Create Obsidian逆引きレシピ": {
              "type": "boolean"
            },
            "Create Prime note": {
              "type": "boolean"
            },
            "Create Report note": {
              "type": "boolean"
            },
            "Create TDQ": {
              "type": "boolean"
            },
            "Create Trouble Shooting note": {
              "type": "boolean"
            },
            "Fix link": {
              "type": "boolean"
            },
            "Format table": {
              "type": "boolean"
            },
            "Insert Bluesky posts to weekly note": {
              "type": "boolean"
            },
            "Insert MOC": {
              "type": "boolean"
            },
            "Insert new notes to the weekly note": {
              "type": "boolean"
            },
            "Insert note card": {
              "type": "boolean"
            },
            "Move to next inspection": {
              "type": "boolean"
            },
            "Move to previous inspection": {
              "type": "boolean"
            },
            "Open property URL": {
              "type": "boolean"
            },
            "Paste URL to site link": {
              "type": "boolean"
            },
            "Paste clipboard as AVIF": {
              "additionalProperties": false,
              "properties": {
                "quality": {
                  "description": "AVIFの品質 (default: 35)",
                  "type": "number"
                }
              },
              "type": "object"
            },
            "Paste clipboard as WebP": {
              "type": "boolean"
            },
            "Paste site card": {
              "type": "boolean"
            },
            "Strip links and decorations": {
              "type": "boolean"
            },
            "Summarize description": {
              "additionalProperties": false,
              "properties": {
                "property": {
                  "description": "要約を保存するプロパティ名 (default: description)",
                  "type": "string"
                },
                "vendor": {
                  "$ref": "#/definitions/AIVendor",
                  "description": "利用するAIベンダー情報"
                }
              },
              "required": [
                "vendor"
              ],
              "type": "object"
            },
            "Transform MOC": {
              "type": "boolean"
            },
            "Transform to v2 OGP card": {
              "type": "boolean"
            },
            "Update MOC suitably": {
              "type": "boolean"
            },
            "Update change log": {
              "type": "boolean"
            }
          },
          "type": "object"
        },
        "file": {
          "additionalProperties": false,
          "properties": {
            "Copy active file full path": {
              "type": "boolean"
            },
            "Copy active image file to clipboard": {
              "type": "boolean"
            },
            "Show File info": {
              "type": "boolean"
            }
          },
          "type": "object"
        },
        "linter": {
          "description": "Linterを有効にするかどうか",
          "type": "boolean"
        }
      },
      "required": [
        "commandHistoryPath"
      ],
      "type": "object"
    },
    "OpenAIVendor": {
      "additionalProperties": false,
      "properties": {
        "apiKeyEnvName": {
          "description": "OpenAI APIキーを格納するKeychainのアカウント名",
          "type": "string"
        },
        "type": {
          "const": "openai",
          "type": "string"
        }
      },
      "required": [
        "type",
        "apiKeyEnvName"
      ],
      "type": "object"
    }
  }
}

